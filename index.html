<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Jayden's Spelling Bee</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .app-root {
      position: relative;
      min-height: 100vh;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .app-bg {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, #ffecd2, #fcb69f, #a1c4fd, #c2e9fb);
      background-size: 200% 200%;
      animation: appBgMove 16s ease infinite;
      z-index: -1;
    }

    @keyframes appBgMove {
      0% { background-position: 0% 0%; }
      50% { background-position: 100% 100%; }
      100% { background-position: 0% 0%; }
    }

    .app-container {
      width: 100%;
      max-width: 720px;
      padding: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.96);
      border-radius: 24px;
      padding: 24px 22px 20px;
      box-shadow: 0 16px 36px rgba(0, 0, 0, 0.18);
    }

    .title {
      margin: 0;
      text-align: center;
      font-size: 2rem;
    }

    .small-title {
      font-size: 1.5rem;
      text-align: left;
    }

    .subtitle {
      margin: 10px 0 20px;
      text-align: center;
      font-size: 1rem;
      color: #555;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 10px 18px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.08s ease, box-shadow 0.08s ease, opacity 0.1s ease;
      white-space: nowrap;
    }

    .btn-big {
      font-size: 1.1rem;
      padding: 12px 26px;
      display: block;
      margin: 0 auto;
    }

    .btn-yellow {
      background: #ffca28;
      color: #4a2b00;
      box-shadow: 0 5px 12px rgba(255, 202, 40, 0.7);
    }

    .btn-blue {
      background: #42a5f5;
      color: #fff;
      box-shadow: 0 5px 12px rgba(66, 165, 245, 0.7);
    }

    .btn-outline {
      background: transparent;
      border: 1px dashed #999;
      color: #555;
    }

    .btn:active {
      transform: translateY(1px);
      box-shadow: none;
      opacity: 0.9;
    }

    .hint-text {
      margin-top: 16px;
      text-align: center;
      font-size: 0.9rem;
      color: #666;
    }

    .card-header-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 10px;
    }

    .round-chip {
      padding: 5px 12px;
      border-radius: 999px;
      background: #fff3cd;
      color: #8a6d3b;
      font-size: 0.85rem;
      font-weight: 600;
      border: 1px solid #ffe19c;
    }

    .progress-wrapper {
      margin-bottom: 14px;
    }

    .progress-bar {
      width: 100%;
      height: 10px;
      border-radius: 999px;
      background: #e0e0e0;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #ffca28, #ff9800);
    }

    .progress-label {
      margin-top: 4px;
      font-size: 0.85rem;
      color: #555;
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 10px 0 14px;
    }

    .info-box {
      background: #f5f7ff;
      border-radius: 12px;
      padding: 10px 12px;
      font-size: 0.95rem;
      color: #333;
      min-height: 2.2em;
      margin-bottom: 14px;
    }

    .input-section {
      margin-bottom: 10px;
    }

    .label {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 4px;
      display: block;
    }

    .input-row {
      display: flex;
      gap: 8px;
    }

    input[type="text"] {
      flex: 1;
      padding: 10px;
      border-radius: 12px;
      border: 2px solid #ccc;
      font-size: 1.05rem;
      outline: none;
    }

    input[type="text"]:focus {
      border-color: #42a5f5;
    }

    .feedback {
      min-height: 1.8em;
      font-size: 1rem;
      font-weight: 600;
      margin-top: 6px;
    }

    .feedback-correct {
      color: #2e7d32;
    }

    .feedback-wrong {
      color: #c62828;
    }

    .score-row {
      margin-top: 6px;
      font-size: 0.95rem;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .score-small {
      font-size: 0.82rem;
      color: #666;
    }

    /* Summary screen styles */
    #summary-missed-wrapper {
      margin-top: 10px;
    }

    #missed-list {
      padding-left: 20px;
      font-size: 0.95rem;
    }

    #missed-list li {
      margin-bottom: 4px;
    }

    @media (max-width: 600px) {
      .card {
        padding: 18px 16px;
      }

      .title {
        font-size: 1.7rem;
      }

      .small-title {
        font-size: 1.3rem;
      }

      .button-row {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="app-root">
    <div class="app-bg"></div>
    <div class="app-container">
      <div class="card" id="card">

        <!-- Start screen -->
        <div id="start-screen">
          <h1 class="title">Jayden&apos;s Spelling Bee</h1>
          <p class="subtitle">
            Listen to the word, then spell it just like a real spelling bee champ. üêù
          </p>
          <button class="btn btn-big btn-yellow" id="start-btn">
            Start Practice
          </button>
          <p class="hint-text">
            You&apos;ll hear one word at a time. You can ask for a definition or a
            sentence, then type your spelling and check your answer.
          </p>
        </div>

        <!-- Game screen -->
        <div id="game-screen" style="display: none;">
          <div class="card-header-row">
            <h1 class="title small-title">Jayden&apos;s Spelling Bee</h1>
            <div class="round-chip" id="round-chip">
              Word 1 of 1
            </div>
          </div>

          <div class="progress-wrapper">
            <div class="progress-bar">
              <div class="progress-fill" id="progress-fill" style="width: 0%;"></div>
            </div>
            <div class="progress-label" id="progress-label">
              Progress: 0%
            </div>
          </div>

          <div class="button-row">
            <button class="btn btn-yellow" id="hear-word-btn">üîä Hear Word</button>
            <button class="btn btn-outline" id="definition-btn">üìò Definition</button>
            <button class="btn btn-outline" id="sentence-btn">üìù Sentence</button>
            <button class="btn btn-outline" id="skip-btn">‚è≠ Skip</button>
          </div>

          <div class="info-box" id="info-box">
            Ask for the definition or a sentence if you need help.
          </div>

          <div class="input-section">
            <label class="label" for="answer-input">
              Type the spelling:
            </label>
            <div class="input-row">
              <input id="answer-input" type="text" autocomplete="off" />
              <button class="btn btn-blue" id="check-btn">
                Check
              </button>
            </div>
          </div>

          <div class="feedback" id="feedback"></div>

          <div class="score-row">
            <div>
              Score:
              <strong><span id="score-correct">0</span> / <span id="score-attempted">0</span></strong>
            </div>
            <div class="score-small">
              Correct words out of total words tried.
            </div>
          </div>
        </div>

        <!-- Summary screen -->
        <div id="summary-screen" style="display: none;">
          <h1 class="title">Round Summary</h1>
          <p class="subtitle">Great work, Jayden! Here are the words to review:</p>
          <p class="hint-text" id="summary-score"></p>

          <div id="summary-missed-wrapper">
            <p class="label">Words you missed this round:</p>
            <ul id="missed-list"></ul>
          </div>

          <button class="btn btn-big btn-yellow" id="restart-btn">
            Play Again
          </button>
        </div>

      </div>
    </div>
  </div>

  <script>
    // ---------- WORD LIST ----------
    const WORDS = [
      { word: "dubious", definition: "uncertain or doubtful.", sentence: "I was dubious about whether the story was true." },
      { word: "ebony", definition: "a dark, black-colored wood or color.", sentence: "The piano was made of shiny ebony wood." },
      { word: "foreign", definition: "from another country.", sentence: "She loves trying foreign foods when she travels." },
      { word: "paltry", definition: "small or worthless in amount.", sentence: "He received a paltry reward for all his hard work." },
      { word: "verdict", definition: "a decision made by a jury in court.", sentence: "The jury reached a guilty verdict." },
      { word: "garbled", definition: "confused or unclear; mixed up.", sentence: "The message was garbled and hard to understand." },
      { word: "encourages", definition: "gives support or confidence.", sentence: "The coach encourages the team before each game." },
      { word: "imitation", definition: "a copy of something.", sentence: "The necklace was only an imitation of the real jewels." },
      { word: "miniature", definition: "very small; tiny version of something.", sentence: "He built a miniature model of the city." },
      { word: "receptionist", definition: "a person who greets visitors or answers phones.", sentence: "The receptionist welcomed us to the office." },
      { word: "preamble", definition: "an introduction to a speech or document.", sentence: "We read the preamble to the Constitution in class." },
      { word: "plausible", definition: "seems believable or reasonable.", sentence: "Her excuse sounded plausible, so the teacher accepted it." },
      { word: "reprimanding", definition: "scolding someone for doing wrong.", sentence: "The parent was reprimanding the child for running in the street." },
      { word: "commotion", definition: "a noisy disturbance.", sentence: "There was a loud commotion in the hallway." },
      { word: "oblivion", definition: "the state of not being aware.", sentence: "He slept in complete oblivion to the storm outside." },
      { word: "immigrants", definition: "people who move to a new country to live.", sentence: "Many immigrants came to the country to find new opportunities." },
      { word: "steeple", definition: "a tall tower on a church.", sentence: "We could see the church steeple from far away." },
      { word: "spectators", definition: "people who watch an event.", sentence: "The spectators cheered as the team scored." },
      { word: "lanyards", definition: "cords worn around the neck to hold keys or IDs.", sentence: "The students wore lanyards with their school badges." },
      { word: "suspicious", definition: "feeling that something is wrong or not trustworthy.", sentence: "The dog gave a suspicious look at the stranger." },
      { word: "parchment", definition: "old-style paper made from animal skin.", sentence: "The map was drawn on yellowed parchment." },
      { word: "ramshackle", definition: "poorly built or falling apart.", sentence: "They fixed up the ramshackle old house." },
      { word: "fugitive", definition: "a person running away to avoid being caught.", sentence: "The police searched for the fugitive." },
      { word: "heron", definition: "a tall bird that lives near water.", sentence: "A heron stood still by the pond." },
      { word: "dissolving", definition: "breaking apart or melting into liquid.", sentence: "The sugar was dissolving in the hot tea." },
      { word: "nomad", definition: "a person who moves from place to place.", sentence: "The nomad traveled with his animals across the desert." },
      { word: "billowed", definition: "swelled outward like a wave or cloud.", sentence: "Smoke billowed out of the chimney." },
      { word: "skewer", definition: "a long stick used for holding food.", sentence: "We cooked vegetables on a metal skewer." },
      { word: "Berlin", definition: "the capital city of Germany.", sentence: "They visited Berlin on their trip to Europe." },
      { word: "lunacy", definition: "wild or foolish behavior.", sentence: "Trying to jump that far was pure lunacy." },
      { word: "conjure", definition: "to make something appear using magic.", sentence: "The magician seemed to conjure a rabbit out of nowhere." },
      { word: "bracken", definition: "a type of fern plant.", sentence: "We walked through tall bracken in the forest." },
      { word: "noggin", definition: "a funny word for head.", sentence: "He bumped his noggin on the low doorway." },
      { word: "neon", definition: "very bright, glowing light or color.", sentence: "The neon sign lit up the street." },
      { word: "rakish", definition: "stylish in a slightly bold way.", sentence: "He wore a rakish hat tilted to one side." },
      { word: "hypnosis", definition: "a trance-like state where a person is very focused.", sentence: "During hypnosis, she felt very relaxed." },
      { word: "rotunda", definition: "a round building or room.", sentence: "The museum has a huge rotunda in the center." },
      { word: "gusto", definition: "great excitement or enjoyment.", sentence: "She sang the song with great gusto." },
      { word: "toiletries", definition: "items for washing and grooming.", sentence: "He packed his toiletries, like toothpaste and soap, for the trip." },
      { word: "gleaned", definition: "gathered or collected bit by bit.", sentence: "She gleaned clues from the detective story." },
      { word: "jeered", definition: "mocked or shouted at in a mean way.", sentence: "It‚Äôs not kind to jeer at someone‚Äôs mistake." },
      { word: "winsome", definition: "charming and pleasant.", sentence: "The puppy had a winsome smile." },
      { word: "prattling", definition: "talking in a silly or babbling way.", sentence: "The toddlers were prattling happily in the playroom." },
      { word: "galore", definition: "in great amounts; plenty.", sentence: "There were candies galore at the party." },
      { word: "emporium", definition: "a big store that sells many things.", sentence: "We bought souvenirs at the huge emporium." },
      { word: "atrium", definition: "a large open space inside a building.", sentence: "Sunlight poured into the glass atrium." },
      { word: "eccentric", definition: "strange or unusual in a fun way.", sentence: "His eccentric outfits made everyone smile." },
      { word: "savant", definition: "a very knowledgeable or gifted person.", sentence: "The young math savant could solve problems in seconds." }
    ];

    function shuffle(array) {
      const arr = array.slice();
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    function speak(text) {
      if (!("speechSynthesis" in window)) return;
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = "en-US";
      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utterance);
    }

    // ---------- STATE ----------
    let started = false;
    let order = shuffle(WORDS);
    let index = 0;
    let correctCount = 0;
    let attemptedCount = 0;
    let missedWords = [];

    // ---------- DOM ELEMENTS ----------
    const startScreen = document.getElementById("start-screen");
    const gameScreen = document.getElementById("game-screen");
    const summaryScreen = document.getElementById("summary-screen");

    const startBtn = document.getElementById("start-btn");
    const restartBtn = document.getElementById("restart-btn");

    const roundChip = document.getElementById("round-chip");
    const progressFill = document.getElementById("progress-fill");
    const progressLabel = document.getElementById("progress-label");

    const hearWordBtn = document.getElementById("hear-word-btn");
    const definitionBtn = document.getElementById("definition-btn");
    const sentenceBtn = document.getElementById("sentence-btn");
    const skipBtn = document.getElementById("skip-btn");
    const infoBox = document.getElementById("info-box");

    const answerInput = document.getElementById("answer-input");
    const checkBtn = document.getElementById("check-btn");
    const feedbackEl = document.getElementById("feedback");

    const scoreCorrectEl = document.getElementById("score-correct");
    const scoreAttemptedEl = document.getElementById("score-attempted");

    const summaryScoreEl = document.getElementById("summary-score");
    const missedListEl = document.getElementById("missed-list");

    function currentWord() {
      return order[index];
    }

    function addMissedWord(wordObj) {
      if (!missedWords.some(w => w.word === wordObj.word)) {
        missedWords.push(wordObj);
      }
    }

    function updateProgressUI() {
      const total = order.length;
      const wordNumber = index + 1;
      const percent = Math.round((wordNumber / total) * 100);

      roundChip.textContent = "Word " + wordNumber + " of " + total;
      progressFill.style.width = percent + "%";
      progressLabel.textContent = "Progress: " + percent + "%";
    }

    function updateScoreUI() {
      scoreCorrectEl.textContent = correctCount;
      scoreAttemptedEl.textContent = attemptedCount;
    }

    function loadWord() {
      // If we've finished the list, show summary instead of loading a new word
      if (index >= order.length) {
        showSummary();
        return;
      }

      answerInput.value = "";
      feedbackEl.textContent = "";
      feedbackEl.className = "feedback";
      infoBox.textContent = "Ask for the definition or a sentence if you need help.";
      updateProgressUI();
      updateScoreUI();
    }

    function showSummary() {
      gameScreen.style.display = "none";
      startScreen.style.display = "none";
      summaryScreen.style.display = "block";

      summaryScoreEl.textContent =
        "You spelled " + correctCount + " correctly out of " + attemptedCount + " tried.";

      missedListEl.innerHTML = "";

      if (missedWords.length === 0) {
        const li = document.createElement("li");
        li.textContent = "Awesome! You got every word correct this round! üèÖ";
        missedListEl.appendChild(li);
      } else {
        missedWords.forEach(w => {
          const li = document.createElement("li");
          li.textContent = w.word + " ‚Äî " + w.definition;
          missedListEl.appendChild(li);
        });
      }
    }

    function resetStateForNewRound() {
      started = true;
      order = shuffle(WORDS);
      index = 0;
      correctCount = 0;
      attemptedCount = 0;
      missedWords = [];
      updateScoreUI();
    }

    function handleStart() {
      resetStateForNewRound();

      startScreen.style.display = "none";
      summaryScreen.style.display = "none";
      gameScreen.style.display = "block";

      loadWord();
      speak(currentWord().word);
      answerInput.focus();
    }

    function handleCheck() {
      const value = answerInput.value.trim();
      if (!value) return;
      attemptedCount++;
      const guess = value.toLowerCase();
      const target = currentWord().word.toLowerCase();

      if (guess === target) {
        correctCount++;
        feedbackEl.textContent = "‚úÖ Correct! The word is \"" + currentWord().word + "\".";
        feedbackEl.className = "feedback feedback-correct";
      } else {
        feedbackEl.textContent = "‚ùå Not quite. The correct spelling is \"" + currentWord().word + "\".";
        feedbackEl.className = "feedback feedback-wrong";
        addMissedWord(currentWord());
      }
      updateScoreUI();

      setTimeout(function () {
        index++;
        if (index >= order.length) {
          showSummary();
        } else {
          loadWord();
          speak(currentWord().word);
        }
      }, 1600);
    }

    function handleSkip() {
      attemptedCount++;
      addMissedWord(currentWord());
      updateScoreUI();

      feedbackEl.textContent = "üëâ The word was \"" + currentWord().word + "\".";
      feedbackEl.className = "feedback";

      setTimeout(function () {
        index++;
        if (index >= order.length) {
          showSummary();
        } else {
          loadWord();
          speak(currentWord().word);
        }
      }, 1300);
    }

    function handleDefinition() {
      const w = currentWord();
      infoBox.textContent = "Definition: " + w.definition;
    }

    function handleSentence() {
      const w = currentWord();
      infoBox.textContent = "Sentence: " + w.sentence;
      speak(w.sentence);
    }

    function handleHearWord() {
      speak(currentWord().word);
    }

    // ---------- EVENT LISTENERS ----------
    startBtn.addEventListener("click", handleStart);
    restartBtn.addEventListener("click", handleStart);

    hearWordBtn.addEventListener("click", handleHearWord);
    definitionBtn.addEventListener("click", handleDefinition);
    sentenceBtn.addEventListener("click", handleSentence);
    skipBtn.addEventListener("click", handleSkip);
    checkBtn.addEventListener("click", handleCheck);

    answerInput.addEventListener("keydown", function (e) {
      if (e.key === "Enter") {
        handleCheck();
      }
    });
  </script>
</body>
</html>
